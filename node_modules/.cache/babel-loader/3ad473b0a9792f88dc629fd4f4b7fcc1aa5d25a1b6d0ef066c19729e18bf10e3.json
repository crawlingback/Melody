{"ast":null,"code":"const rateWrap = document.querySelectorAll(\".rating\"),\n  label = document.querySelectorAll(\".rating .rating__label\"),\n  input = document.querySelectorAll(\".rating .rating__input\"),\n  labelLength = label.length,\n  opacityHover = \"0.5\";\nlet stars = document.querySelectorAll(\".rating .star-icon\");\ncheckedRate();\nrateWrap.forEach(wrap => {\n  wrap.addEventListener(\"mouseenter\", () => {\n    stars = wrap.querySelectorAll(\".star-icon\");\n    stars.forEach((starIcon, idx) => {\n      starIcon.addEventListener(\"mouseenter\", () => {\n        initStars();\n        filledRate(idx, labelLength);\n        for (let i = 0; i < stars.length; i++) {\n          if (stars[i].classList.contains(\"filled\")) {\n            stars[i].style.opacity = opacityHover;\n          }\n        }\n      });\n      starIcon.addEventListener(\"mouseleave\", () => {\n        starIcon.style.opacity = \"1\";\n        checkedRate();\n      });\n      wrap.addEventListener(\"mouseleave\", () => {\n        starIcon.style.opacity = \"1\";\n      });\n    });\n  });\n});\nfunction filledRate(index, length) {\n  if (index <= length) {\n    for (let i = 0; i <= index; i++) {\n      stars[i].classList.add(\"filled\");\n    }\n  }\n}\nfunction checkedRate() {\n  let checkedRadio = document.querySelectorAll('.rating input[type=\"radio\"]:checked');\n  initStars();\n  checkedRadio.forEach(radio => {\n    let previousSiblings = prevAll(radio);\n    for (let i = 0; i < previousSiblings.length; i++) {\n      previousSiblings[i].querySelector(\".star-icon\").classList.add(\"filled\");\n    }\n    radio.nextElementSibling.classList.add(\"filled\");\n    function prevAll() {\n      let radioSiblings = [],\n        prevSibling = radio.parentElement.previousElementSibling;\n      while (prevSibling) {\n        radioSiblings.push(prevSibling);\n        prevSibling = prevSibling.previousElementSibling;\n      }\n      return radioSiblings;\n    }\n  });\n}\nfunction initStars() {\n  for (let i = 0; i < stars.length; i++) {\n    stars[i].classList.remove(\"filled\");\n  }\n}","map":{"version":3,"names":["rateWrap","document","querySelectorAll","label","input","labelLength","length","opacityHover","stars","checkedRate","forEach","wrap","addEventListener","starIcon","idx","initStars","filledRate","i","classList","contains","style","opacity","index","add","checkedRadio","radio","previousSiblings","prevAll","querySelector","nextElementSibling","radioSiblings","prevSibling","parentElement","previousElementSibling","push","remove"],"sources":["D:/dev/react/crud/crud-react-app/src/components/Comment/Star.js"],"sourcesContent":["const rateWrap = document.querySelectorAll(\".rating\"),\r\n    label = document.querySelectorAll(\".rating .rating__label\"),\r\n    input = document.querySelectorAll(\".rating .rating__input\"),\r\n    labelLength = label.length,\r\n    opacityHover = \"0.5\";\r\n\r\nlet stars = document.querySelectorAll(\".rating .star-icon\");\r\n\r\ncheckedRate();\r\n\r\nrateWrap.forEach((wrap) => {\r\n    wrap.addEventListener(\"mouseenter\", () => {\r\n        stars = wrap.querySelectorAll(\".star-icon\");\r\n\r\n        stars.forEach((starIcon, idx) => {\r\n            starIcon.addEventListener(\"mouseenter\", () => {\r\n                initStars();\r\n                filledRate(idx, labelLength);\r\n\r\n                for (let i = 0; i < stars.length; i++) {\r\n                    if (stars[i].classList.contains(\"filled\")) {\r\n                        stars[i].style.opacity = opacityHover;\r\n                    }\r\n                }\r\n            });\r\n\r\n            starIcon.addEventListener(\"mouseleave\", () => {\r\n                starIcon.style.opacity = \"1\";\r\n                checkedRate();\r\n            });\r\n\r\n            wrap.addEventListener(\"mouseleave\", () => {\r\n                starIcon.style.opacity = \"1\";\r\n            });\r\n        });\r\n    });\r\n});\r\n\r\nfunction filledRate(index, length) {\r\n    if (index <= length) {\r\n        for (let i = 0; i <= index; i++) {\r\n            stars[i].classList.add(\"filled\");\r\n        }\r\n    }\r\n}\r\n\r\nfunction checkedRate() {\r\n    let checkedRadio = document.querySelectorAll(\r\n        '.rating input[type=\"radio\"]:checked'\r\n    );\r\n\r\n    initStars();\r\n    checkedRadio.forEach((radio) => {\r\n        let previousSiblings = prevAll(radio);\r\n\r\n        for (let i = 0; i < previousSiblings.length; i++) {\r\n            previousSiblings[i]\r\n                .querySelector(\".star-icon\")\r\n                .classList.add(\"filled\");\r\n        }\r\n\r\n        radio.nextElementSibling.classList.add(\"filled\");\r\n\r\n        function prevAll() {\r\n            let radioSiblings = [],\r\n                prevSibling = radio.parentElement.previousElementSibling;\r\n\r\n            while (prevSibling) {\r\n                radioSiblings.push(prevSibling);\r\n                prevSibling = prevSibling.previousElementSibling;\r\n            }\r\n            return radioSiblings;\r\n        }\r\n    });\r\n}\r\n\r\nfunction initStars() {\r\n    for (let i = 0; i < stars.length; i++) {\r\n        stars[i].classList.remove(\"filled\");\r\n    }\r\n}\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAC;EACjDC,KAAK,GAAGF,QAAQ,CAACC,gBAAgB,CAAC,wBAAwB,CAAC;EAC3DE,KAAK,GAAGH,QAAQ,CAACC,gBAAgB,CAAC,wBAAwB,CAAC;EAC3DG,WAAW,GAAGF,KAAK,CAACG,MAAM;EAC1BC,YAAY,GAAG,KAAK;AAExB,IAAIC,KAAK,GAAGP,QAAQ,CAACC,gBAAgB,CAAC,oBAAoB,CAAC;AAE3DO,WAAW,CAAC,CAAC;AAEbT,QAAQ,CAACU,OAAO,CAAEC,IAAI,IAAK;EACvBA,IAAI,CAACC,gBAAgB,CAAC,YAAY,EAAE,MAAM;IACtCJ,KAAK,GAAGG,IAAI,CAACT,gBAAgB,CAAC,YAAY,CAAC;IAE3CM,KAAK,CAACE,OAAO,CAAC,CAACG,QAAQ,EAAEC,GAAG,KAAK;MAC7BD,QAAQ,CAACD,gBAAgB,CAAC,YAAY,EAAE,MAAM;QAC1CG,SAAS,CAAC,CAAC;QACXC,UAAU,CAACF,GAAG,EAAET,WAAW,CAAC;QAE5B,KAAK,IAAIY,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,KAAK,CAACF,MAAM,EAAEW,CAAC,EAAE,EAAE;UACnC,IAAIT,KAAK,CAACS,CAAC,CAAC,CAACC,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACvCX,KAAK,CAACS,CAAC,CAAC,CAACG,KAAK,CAACC,OAAO,GAAGd,YAAY;UACzC;QACJ;MACJ,CAAC,CAAC;MAEFM,QAAQ,CAACD,gBAAgB,CAAC,YAAY,EAAE,MAAM;QAC1CC,QAAQ,CAACO,KAAK,CAACC,OAAO,GAAG,GAAG;QAC5BZ,WAAW,CAAC,CAAC;MACjB,CAAC,CAAC;MAEFE,IAAI,CAACC,gBAAgB,CAAC,YAAY,EAAE,MAAM;QACtCC,QAAQ,CAACO,KAAK,CAACC,OAAO,GAAG,GAAG;MAChC,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,SAASL,UAAUA,CAACM,KAAK,EAAEhB,MAAM,EAAE;EAC/B,IAAIgB,KAAK,IAAIhB,MAAM,EAAE;IACjB,KAAK,IAAIW,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIK,KAAK,EAAEL,CAAC,EAAE,EAAE;MAC7BT,KAAK,CAACS,CAAC,CAAC,CAACC,SAAS,CAACK,GAAG,CAAC,QAAQ,CAAC;IACpC;EACJ;AACJ;AAEA,SAASd,WAAWA,CAAA,EAAG;EACnB,IAAIe,YAAY,GAAGvB,QAAQ,CAACC,gBAAgB,CACxC,qCACJ,CAAC;EAEDa,SAAS,CAAC,CAAC;EACXS,YAAY,CAACd,OAAO,CAAEe,KAAK,IAAK;IAC5B,IAAIC,gBAAgB,GAAGC,OAAO,CAACF,KAAK,CAAC;IAErC,KAAK,IAAIR,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGS,gBAAgB,CAACpB,MAAM,EAAEW,CAAC,EAAE,EAAE;MAC9CS,gBAAgB,CAACT,CAAC,CAAC,CACdW,aAAa,CAAC,YAAY,CAAC,CAC3BV,SAAS,CAACK,GAAG,CAAC,QAAQ,CAAC;IAChC;IAEAE,KAAK,CAACI,kBAAkB,CAACX,SAAS,CAACK,GAAG,CAAC,QAAQ,CAAC;IAEhD,SAASI,OAAOA,CAAA,EAAG;MACf,IAAIG,aAAa,GAAG,EAAE;QAClBC,WAAW,GAAGN,KAAK,CAACO,aAAa,CAACC,sBAAsB;MAE5D,OAAOF,WAAW,EAAE;QAChBD,aAAa,CAACI,IAAI,CAACH,WAAW,CAAC;QAC/BA,WAAW,GAAGA,WAAW,CAACE,sBAAsB;MACpD;MACA,OAAOH,aAAa;IACxB;EACJ,CAAC,CAAC;AACN;AAEA,SAASf,SAASA,CAAA,EAAG;EACjB,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGT,KAAK,CAACF,MAAM,EAAEW,CAAC,EAAE,EAAE;IACnCT,KAAK,CAACS,CAAC,CAAC,CAACC,SAAS,CAACiB,MAAM,CAAC,QAAQ,CAAC;EACvC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}